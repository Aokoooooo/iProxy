<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="google" value="notranslate">
<link rel="shortcut icon" href="img/favicon.ico" />

<style>
@media (prefers-color-scheme: dark) {
    html, body, div, span, ul, li, table, tr, td,nav, h1, h2, h3, h4, h5, h6, p, header, section, code, button, font, dt, dd, dl, article {
        color: white;
        border-color: rgb(49, 49, 49) !important;
        background: #3b3b3d !important;
        background-color: #3b3b3d !important;
    }

    a {
        color: rgb(30,158,191) !important;
        background: #3b3b3d !important;
    }

    th, .btn, td pre, td {
        color: white !important;
    }
    .w-plugins-headers .table th, th, textarea {
        background: #3b3b3d !important;
    }
    .fill .w-composer-body textarea:read-only, .w-composer-headers textarea:read-only, .w-detail-composer input:read-only, .w-detail-composer textarea:disabled {
        background: #3b3b3d !important;
    }

    .w-req-data-list .w-has-rules td, .w-req-data-list .w-has-rules th {
        color: #69c0ff !important;
    }

}
</style>

<script>
    const require = parent && parent.window && parent.window.require;
    if (require) {
        const originOpen = window.open;
        window.open = (url) => {
            if (url === 'editor.html') {
                const container = document.createElement('iframe');
                container.src = url;
                container.style = `position: fixed; left: 10px; top: 50px; width: 90%; height: 80%; z-index: 1000`;
                document.body.appendChild(container);

                const closeBtn = document.createElement('div');
                closeBtn.innerText = 'X';
                closeBtn.style = `position: fixed;
    left: 10px;
    top: 30px;
    display: inline-block;
    background: black;
    color: white;
    z-index: 1000;
    padding: 3px 20px;
    border: solid 1px red !important;
    cursor: pointer;`.replace('\n', '');

                closeBtn.onclick = () => {
                    container.remove();
                    closeBtn.remove();
                };

                document.body.appendChild(closeBtn);

                return {
                    set setValue(val) {
                        container.contentWindow.setValue = val;
                    },
                    set getValue(val) {
                        container.contentWindow.getValue = val;
                    }
                }
            } else {
                require('electron').remote.shell.openExternal(url);
            }
        };
    }
</script>

<title>Whistle Web Debugger</title>
</head>
<body>
<div id="container" class="main"></div>
<script src="js/index.js?v=2.5.9"></script>
</body>
</html>
